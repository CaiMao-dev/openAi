[2023/11/27 16:39:26.405 +08:00] [INFO] [roles/roles.go:304] ["starting running Milvus components"]
[2023/11/27 16:39:26.410 +08:00] [INFO] [config/refresher.go:66] ["start refreshing configurations"] [source=FileSource]
[2023/11/27 16:39:26.411 +08:00] [INFO] [paramtable/hook_config.go:21] ["hook config"] [hook={}]
[2023/11/27 16:39:26.411 +08:00] [INFO] [config/refresher.go:66] ["start refreshing configurations"] [source=FileSource]
[2023/11/27 16:39:26.501 +08:00] [INFO] [etcd/etcd_server.go:58] ["finish init Etcd config"] [path=] [data=/Users/maocai/Documents/openAi/test_milvus/data/etcd.data]
[2023/11/27 16:39:26.501 +08:00] [INFO] [roles/roles.go:253] [setupPrometheusHTTPServer]
[2023/11/27 16:39:26.501 +08:00] [INFO] [http/server.go:77] ["management listen"] [addr=:9091]
[2023/11/27 16:39:26.501 +08:00] [INFO] [rootcoord/root_coord.go:155] ["update rootcoord state"] [state=Abnormal]
[2023/11/27 16:39:26.501 +08:00] [DEBUG] [rootcoord/service.go:166] ["init params done.."]
[2023/11/27 16:39:26.502 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [rootcoord/service.go:183] ["etcd connect done ..."]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [rootcoord/service.go:243] ["start grpc "] [port=53100]
[2023/11/27 16:39:26.502 +08:00] [INFO] [components/index_coord.go:38] ["IndexCoord running ..."]
[2023/11/27 16:39:26.502 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [datacoord/service.go:147] ["network port"] [port=13333]
[2023/11/27 16:39:26.502 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [querynode/service.go:100] [QueryNode] [port=21123]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [indexnode/indexnode.go:115] ["New IndexNode ..."]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [querycoord/service.go:215] [network] [port=19531]
[2023/11/27 16:39:26.502 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.502 +08:00] [DEBUG] [querynode/service.go:117] ["QueryNode connect to etcd successfully"]
[2023/11/27 16:39:26.502 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [indexnode/service.go:87] [IndexNode] ["network address"=10.90.1.32:21121] ["network port: "=21121]
[2023/11/27 16:39:26.503 +08:00] [INFO] [datanode/service.go:246] ["DataNode address"] [address=10.90.1.32:21124]
[2023/11/27 16:39:26.503 +08:00] [INFO] [proxy/lb_policy.go:78] ["use look_aside policy on replica selection"]
[2023/11/27 16:39:26.503 +08:00] [INFO] [runtime/asm_arm64.s:1197] ["Start check query node health loop"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/multi_rate_limiter.go:188] ["RateLimiter register for rateType"] [rateType=DMLInsert] [rateLimit=+inf] [burst=1.7976931348623157e+308]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/multi_rate_limiter.go:188] ["RateLimiter register for rateType"] [rateType=DMLDelete] [rateLimit=+inf] [burst=1.7976931348623157e+308]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:113] ["create a new Proxy instance"] [state=2]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:374] ["init Proxy server"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:405] ["Proxy init service's parameter table done"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:407] ["Proxy init http server's parameter table done"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:414] ["init Proxy's parameter table done"] ["internal address"=10.90.1.32:19529] ["external address"=10.90.1.32:19530]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:417] ["init Proxy's tracer done"] ["service name"="Proxy ip: 10.90.1.32, port: 19530"]
[2023/11/27 16:39:26.503 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:321] ["Proxy internal server listen on tcp"] [port=19529]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:328] ["Proxy internal server already listen on tcp"] [port=19529]
[2023/11/27 16:39:26.503 +08:00] [INFO] [proxy/service.go:444] ["Proxy server listen on tcp"] [port=19530]
[2023/11/27 16:39:26.503 +08:00] [INFO] [proxy/service.go:448] ["Proxy server already listen on tcp"] [port=19530]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:360] ["create Proxy internal grpc server"] ["enforcement policy"="{\"MinTime\":5000000000,\"PermitWithoutStream\":true}"] ["server parameters"="{\"MaxConnectionIdle\":0,\"MaxConnectionAge\":0,\"MaxConnectionAgeGrace\":0,\"Time\":60000000000,\"Timeout\":10000000000}"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:232] ["Get proxy rate limiter done"] [port=19530]
[2023/11/27 16:39:26.503 +08:00] [INFO] [proxy/service.go:526] ["register Proxy http server"]
[2023/11/27 16:39:26.503 +08:00] [DEBUG] [proxy/service.go:296] ["create Proxy grpc server"] ["enforcement policy"="{\"MinTime\":5000000000,\"PermitWithoutStream\":true}"] ["server parameters"="{\"MaxConnectionIdle\":0,\"MaxConnectionAge\":0,\"MaxConnectionAgeGrace\":0,\"Time\":60000000000,\"Timeout\":10000000000}"]
[2023/11/27 16:39:26.504 +08:00] [DEBUG] [proxy/service.go:533] ["create RootCoord client for Proxy"]
[2023/11/27 16:39:26.504 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.551 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:26.551 +08:00] [INFO] [indexnode/indexnode.go:285] ["get IndexNode components states ..."]
[2023/11/27 16:39:26.551 +08:00] [INFO] [indexnode/indexnode.go:303] ["IndexNode Component states"] [State="nodeID:-1 role:\"indexnode\" state_code:Abnormal "] [Status=Success] [SubcomponentStates=null]
[2023/11/27 16:39:26.603 +08:00] [INFO] [datanode/service.go:255] ["initializing RootCoord client for DataNode"]
[2023/11/27 16:39:26.603 +08:00] [INFO] [etcd/etcd_util.go:47] ["create etcd client"] [useEmbedEtcd=true] [useSSL=false] [endpoints="[localhost:2379]"] [minVersion=1.3]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.603 +08:00] [INFO] [indexnode/indexnode.go:205] ["IndexNode init"] [state=Initializing]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [querynode/service.go:127] [QueryNode] [State=Initializing]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.603 +08:00] [INFO] [querynodev2/server.go:269] ["QueryNode session info"] [metaPath=by-dev/meta]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [rootcoord/service.go:200] ["grpc init done ..."]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [rootcoord/service.go:203] ["RootCoord start to create DataCoord client"]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.603 +08:00] [INFO] [dependency/factory.go:84] ["try to init mq"] [standalone=true] [mqType=rocksmq]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [server/global_rmq.go:39] ["initializing global rmq"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:26.603 +08:00] [DEBUG] [server/rocksmq_impl.go:177] ["Start rocksmq "] ["max proc"=8] [parallism=1] ["lru cache"=1030792151]
[2023/11/27 16:39:26.653 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:26.654 +08:00] [INFO] [indexnode/indexnode.go:285] ["get IndexNode components states ..."]
[2023/11/27 16:39:26.654 +08:00] [INFO] [indexnode/indexnode.go:303] ["IndexNode Component states"] [State="nodeID:-1 role:\"indexnode\" "] [Status=Success] [SubcomponentStates=null]
[2023/11/27 16:39:26.724 +08:00] [INFO] [tso/tso.go:122] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/11/27 16:39:29.724 +08:00] [next=2023/11/27 16:39:26.724 +08:00]
[2023/11/27 16:39:26.724 +08:00] [INFO] [msgstream/mq_factory.go:18] ["init rocksmq msgstream success"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:26.724 +08:00] [DEBUG] [server/rocksmq_retention.go:80] ["Rocksmq retention goroutine start!"]
[2023/11/27 16:39:26.725 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:26.760 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:26.760 +08:00] [INFO] [indexnode/indexnode.go:285] ["get IndexNode components states ..."]
[2023/11/27 16:39:26.760 +08:00] [INFO] [indexnode/indexnode.go:303] ["IndexNode Component states"] [State="nodeID:-1 role:\"indexnode\" "] [Status=Success] [SubcomponentStates=null]
[2023/11/27 16:39:26.866 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:26.973 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.079 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.186 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.289 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.365 +08:00] [ERROR] [sessionutil/session_util.go:255] ["retry func failed"] ["retry time"=0] [error="etcdserver: leader changed"] [stack="github.com/milvus-io/milvus/internal/util/sessionutil.NewSession\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/sessionutil/session_util.go:255\ngithub.com/milvus-io/milvus/internal/distributed/rootcoord/client.NewClient\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/rootcoord/client/client.go:57\ngithub.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/proxy/service.go:534\ngithub.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/proxy/service.go:375\ngithub.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/components/proxy.go:52\ngithub.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/roles/roles.go:113"]
[2023/11/27 16:39:27.373 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [querycoord/service.go:165] ["QueryCoord try to wait for RootCoord ready"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [rootcoord/service.go:212] ["RootCoord start to create QueryCoord client"]
[2023/11/27 16:39:27.377 +08:00] [WARN] [client/client.go:90] ["RootCoordClient mess key not exist"] [key=rootcoord]
[2023/11/27 16:39:27.377 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.377 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.377 +08:00] [WARN] [grpcclient/client.go:513] ["fail to get grpc client"] [client_role=rootcoord] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.377 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=rootcoord] [error="empty grpc client: find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.380 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:27.384 +08:00] [WARN] [client/client.go:90] ["RootCoordClient mess key not exist"] [key=rootcoord]
[2023/11/27 16:39:27.384 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.384 +08:00] [WARN] [grpcclient/client.go:513] ["fail to get grpc client"] [client_role=rootcoord] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.384 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.385 +08:00] [INFO] [dependency/factory.go:84] ["try to init mq"] [standalone=true] [mqType=rocksmq]
[2023/11/27 16:39:27.385 +08:00] [INFO] [msgstream/mq_factory.go:18] ["init rocksmq msgstream success"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:27.384 +08:00] [WARN] [client/client.go:90] ["RootCoordClient mess key not exist"] [key=rootcoord]
[2023/11/27 16:39:27.385 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=rootcoord] [error="empty grpc client: find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.388 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.388 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.388 +08:00] [WARN] [client/client.go:90] ["RootCoordClient mess key not exist"] [key=rootcoord]
[2023/11/27 16:39:27.388 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.388 +08:00] [WARN] [grpcclient/client.go:438] ["fail to get grpc client in the retry state"] [client_role=rootcoord] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.388 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.388 +08:00] [DEBUG] [sessionutil/session_util.go:362] ["Session get serverID success"] [key=id] [ServerId=1]
[2023/11/27 16:39:27.388 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=indexnode] [address=10.90.1.32:21121] [id=1]
[2023/11/27 16:39:27.388 +08:00] [WARN] [grpcclient/client.go:438] ["fail to get grpc client in the retry state"] [client_role=rootcoord] [error="find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.389 +08:00] [ERROR] [grpcclient/client.go:429] ["retry func failed"] ["retry time"=0] [error="empty grpc client: find no available rootcoord, check rootcoord state"] [stack="github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:429\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:513\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:529\ngithub.com/milvus-io/milvus/internal/distributed/rootcoord/client.wrapGrpcCall[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/rootcoord/client/client.go:107\ngithub.com/milvus-io/milvus/internal/distributed/rootcoord/client.(*Client).GetComponentStates\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/rootcoord/client/client.go:121\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:37\ngithub.com/milvus-io/milvus/pkg/util/retry.Do\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/pkg/util/retry/retry.go:44\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:61\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:82\ngithub.com/milvus-io/milvus/internal/distributed/querycoord.(*Server).init\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/querycoord/service.go:166\ngithub.com/milvus-io/milvus/internal/distributed/querycoord.(*Server).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/querycoord/service.go:100\ngithub.com/milvus-io/milvus/cmd/components.(*QueryCoord).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/components/query_coord.go:53\ngithub.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/roles/roles.go:113"]
[2023/11/27 16:39:27.388 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:27.388 +08:00] [ERROR] [grpcclient/client.go:429] ["retry func failed"] ["retry time"=0] [error="empty grpc client: find no available rootcoord, check rootcoord state"] [stack="github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:429\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:513\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:529\ngithub.com/milvus-io/milvus/internal/distributed/rootcoord/client.wrapGrpcCall[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/rootcoord/client/client.go:107\ngithub.com/milvus-io/milvus/internal/distributed/rootcoord/client.(*Client).GetComponentStates\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/rootcoord/client/client.go:121\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:37\ngithub.com/milvus-io/milvus/pkg/util/retry.Do\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/pkg/util/retry/retry.go:44\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:61\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:82\ngithub.com/milvus-io/milvus/internal/distributed/datanode.(*Server).init\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/datanode/service.go:262\ngithub.com/milvus-io/milvus/internal/distributed/datanode.(*Server).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/datanode/service.go:188\ngithub.com/milvus-io/milvus/cmd/components.(*DataNode).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/components/data_node.go:53\ngithub.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/roles/roles.go:113"]
[2023/11/27 16:39:27.391 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.393 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=indexcoord] [address=10.90.1.32:13333] [id=1]
[2023/11/27 16:39:27.393 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.393 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:27.393 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=querynode] [address=10.90.1.32:21123] [id=1]
[2023/11/27 16:39:27.393 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.394 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="querynode-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:27.394 +08:00] [INFO] [querynodev2/server.go:162] ["QueryNode init session"] [nodeID=1] ["node address"=10.90.1.32:21123]
[2023/11/27 16:39:27.394 +08:00] [INFO] [dependency/factory.go:84] ["try to init mq"] [standalone=true] [mqType=rocksmq]
[2023/11/27 16:39:27.394 +08:00] [INFO] [msgstream/mq_factory.go:18] ["init rocksmq msgstream success"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:27.394 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:27.394 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=rootcoord] [address=10.90.1.32:53100] [id=1]
[2023/11/27 16:39:27.394 +08:00] [INFO] [rootcoord/root_coord.go:155] ["update rootcoord state"] [state=Initializing]
[2023/11/27 16:39:27.394 +08:00] [INFO] [querynodev2/server.go:323] ["queryNode try to connect etcd success"] [MetaRootPath=by-dev/meta]
[2023/11/27 16:39:27.394 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="indexnode-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:27.394 +08:00] [INFO] [tasks/concurrent_safe_scheduler.go:27] ["query node use concurrent safe scheduler"] [max_concurrency=8]
[2023/11/27 16:39:27.394 +08:00] [INFO] [indexnode/indexnode.go:212] ["IndexNode init session successful"] [serverID=1]
[2023/11/27 16:39:27.394 +08:00] [INFO] [querynodev2/server.go:329] ["queryNode init scheduler"] [policy=fifo]
[2023/11/27 16:39:27.394 +08:00] [INFO] [segments/segment_loader.go:120] ["SegmentLoader created"] [ioPoolSize=64]
[2023/11/27 16:39:27.398 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:27.398 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=datacoord] [address=10.90.1.32:13333] [id=1]
[2023/11/27 16:39:27.398 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.398 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.398 +08:00] [INFO] [datacoord/server.go:558] ["data coordinator connecting to metadata store"] [metaType=etcd]
[2023/11/27 16:39:27.398 +08:00] [INFO] [datacoord/server.go:566] ["data coordinator successfully connected to metadata store"] [metaType=etcd]
[2023/11/27 16:39:27.405 +08:00] [INFO] [tso/tso.go:122] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/11/27 16:39:30.398 +08:00] [next=2023/11/27 16:39:27.398 +08:00]
[2023/11/27 16:39:27.405 +08:00] [INFO] [rootcoord/root_coord.go:398] ["id allocator initialized"] [root_path=by-dev/kv] [sub_path=gid] [key=idTimestamp]
[2023/11/27 16:39:27.405 +08:00] [INFO] [datacoord/meta.go:171] ["DataCoord meta reloadFromKV done"] [duration=6.500125ms]
[2023/11/27 16:39:27.411 +08:00] [INFO] [tso/tso.go:122] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/11/27 16:39:30.405 +08:00] [next=2023/11/27 16:39:27.405 +08:00]
[2023/11/27 16:39:27.411 +08:00] [INFO] [rootcoord/root_coord.go:422] ["tso allocator initialized"] [root_path=by-dev/kv] [sub_path=gid] [key=idTimestamp]
[2023/11/27 16:39:27.411 +08:00] [INFO] [rootcoord/root_coord.go:341] ["Using etcd as meta storage."]
[2023/11/27 16:39:27.411 +08:00] [INFO] [datacoord/channel_store.go:171] ["channel store reload done"] [duration=5.476667ms]
[2023/11/27 16:39:27.411 +08:00] [DEBUG] [rootcoord/suffix_snapshot.go:555] ["suffix snapshot GC goroutine start!"]
[2023/11/27 16:39:27.411 +08:00] [INFO] [rootcoord/meta_table.go:150] ["recover databases"] ["num of dbs"=0]
[2023/11/27 16:39:27.411 +08:00] [INFO] [datacoord/server.go:491] ["DataCoord success to get DataNode sessions"] [sessions={}]
[2023/11/27 16:39:27.411 +08:00] [INFO] [datacoord/channel_manager.go:171] ["starting etcd states checker"]
[2023/11/27 16:39:27.411 +08:00] [INFO] [datacoord/channel_manager.go:176] ["starting background balance checker"]
[2023/11/27 16:39:27.411 +08:00] [INFO] [datacoord/channel_manager.go:179] ["cluster start up"] [nodes="[]"] [oNodes="[]"] ["old onlines"="[]"] ["new onlines"="[]"] [offLines="[]"]
[2023/11/27 16:39:27.411 +08:00] [INFO] [querynodev2/server.go:247] ["InitChunkCache done"] [dir=/Users/maocai/Documents/openAi/test_milvus/data/chunk_cache] [policy=willneed]
[2023/11/27 16:39:27.412 +08:00] [INFO] [gc/gc_tuner.go:137] ["GC Helper initialized."] ["Initial GoGC"=100] [minimumGOGC=30] [maximumGOGC=200] [memoryThreshold=15461882265]
[2023/11/27 16:39:27.412 +08:00] [INFO] [indexnode/indexnode.go:217] ["Init IndexNode finished"] []
[2023/11/27 16:39:27.412 +08:00] [DEBUG] [indexnode/service.go:74] ["IndexNode init done ..."]
[2023/11/27 16:39:27.412 +08:00] [INFO] [indexnode/indexnode.go:229] [IndexNode] [State=Healthy]
[2023/11/27 16:39:27.412 +08:00] [INFO] [indexnode/indexnode.go:232] ["IndexNode start finished"] []
[2023/11/27 16:39:27.412 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=indexnode] [ServerID=1]
[2023/11/27 16:39:27.412 +08:00] [INFO] [querynodev2/server.go:383] ["query node init successfully"] [queryNodeID=1] [Address=10.90.1.32:21123]
[2023/11/27 16:39:27.412 +08:00] [DEBUG] [querynode/service.go:226] ["QueryNode init done ..."]
[2023/11/27 16:39:27.412 +08:00] [DEBUG] [indexnode/task_scheduler.go:242] ["IndexNode TaskScheduler start build loop ..."]
[2023/11/27 16:39:27.412 +08:00] [INFO] [tasks/concurrent_safe_scheduler.go:211] ["start execute loop"]
[2023/11/27 16:39:27.412 +08:00] [INFO] [querynodev2/server.go:404] ["query node start successfully"] [queryNodeID=1] [Address=10.90.1.32:21123] [mmapEnabled=false]
[2023/11/27 16:39:27.412 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=querynode] [ServerID=1]
[2023/11/27 16:39:27.416 +08:00] [INFO] [rootcoord/meta_table.go:249] ["create database"] [db=default] [ts=445926438969016321]
[2023/11/27 16:39:27.420 +08:00] [INFO] [datacoord/garbage_collector.go:67] ["GC with option"] [enabled=true] [interval=1h0m0s] [missingTolerance=1h0m0s] [dropTolerance=3h0m0s]
[2023/11/27 16:39:27.420 +08:00] [DEBUG] [datacoord/service.go:252] ["DataCoord init done ..."]
[2023/11/27 16:39:27.420 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=indexcoord] [ServerID=1]
[2023/11/27 16:39:27.425 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/indexnode-1] [value="{\"ServerID\":1,\"ServerName\":\"indexnode\",\"Address\":\"10.90.1.32:21121\",\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250257953,\"HostName\":\"maodeMacBook-Pro.local\",\"EnableDisk\":true}"]
[2023/11/27 16:39:27.425 +08:00] [DEBUG] [sessionutil/session_util.go:767] ["watch services"] ["add kv"="key:\"by-dev/meta/session/indexnode-1\" create_revision:7 mod_revision:7 version:1 value:\"{\\\"ServerID\\\":1,\\\"ServerName\\\":\\\"indexnode\\\",\\\"Address\\\":\\\"10.90.1.32:21121\\\",\\\"TriggerKill\\\":true,\\\"Version\\\":\\\"2.3.3\\\",\\\"IndexEngineVersion\\\":{},\\\"LeaseID\\\":7587874947250257953,\\\"HostName\\\":\\\"maodeMacBook-Pro.local\\\",\\\"EnableDisk\\\":true}\" lease:7587874947250257953 "]
[2023/11/27 16:39:27.425 +08:00] [DEBUG] [sessionutil/session_util.go:795] [WatchService] ["event type"=SessionAddEvent]
[2023/11/27 16:39:27.425 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=indexnode] [serverID=1]
[2023/11/27 16:39:27.428 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/querynode-1] [value="{\"ServerID\":1,\"ServerName\":\"querynode\",\"Address\":\"10.90.1.32:21123\",\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{\"CurrentIndexVersion\":1},\"LeaseID\":7587874947250257955,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:27.428 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=querynode] [serverID=1]
[2023/11/27 16:39:27.428 +08:00] [DEBUG] [sessionutil/session_util.go:767] ["watch services"] ["add kv"="key:\"by-dev/meta/session/querynode-1\" create_revision:8 mod_revision:8 version:1 value:\"{\\\"ServerID\\\":1,\\\"ServerName\\\":\\\"querynode\\\",\\\"Address\\\":\\\"10.90.1.32:21123\\\",\\\"TriggerKill\\\":true,\\\"Version\\\":\\\"2.3.3\\\",\\\"IndexEngineVersion\\\":{\\\"CurrentIndexVersion\\\":1},\\\"LeaseID\\\":7587874947250257955,\\\"HostName\\\":\\\"maodeMacBook-Pro.local\\\"}\" lease:7587874947250257955 "]
[2023/11/27 16:39:27.428 +08:00] [DEBUG] [sessionutil/session_util.go:795] [WatchService] ["event type"=SessionAddEvent]
[2023/11/27 16:39:27.428 +08:00] [DEBUG] [indexnode/service.go:206] ["IndexNode Register etcd success"]
[2023/11/27 16:39:27.428 +08:00] [DEBUG] [indexnode/service.go:78] ["IndexNode start done ..."]
[2023/11/27 16:39:27.428 +08:00] [DEBUG] [components/index_node.go:55] ["IndexNode successfully started"]
[2023/11/27 16:39:27.431 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/indexcoord] [value="{\"ServerID\":1,\"ServerName\":\"indexcoord\",\"Address\":\"10.90.1.32:13333\",\"Exclusive\":true,\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250257962,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:27.431 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=indexcoord] [serverID=1]
[2023/11/27 16:39:27.431 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=datacoord] [ServerID=1]
[2023/11/27 16:39:27.431 +08:00] [INFO] [rootcoord/meta_table.go:188] ["recover collections from db"] [collection_num=0] [partition_num=0]
[2023/11/27 16:39:27.431 +08:00] [DEBUG] [querynode/service.go:231] ["QueryNode start done ..."]
[2023/11/27 16:39:27.431 +08:00] [DEBUG] [components/query_node.go:57] ["QueryNode successfully started"]
[2023/11/27 16:39:27.438 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/datacoord] [value="{\"ServerID\":1,\"ServerName\":\"datacoord\",\"Address\":\"10.90.1.32:13333\",\"Exclusive\":true,\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250257971,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:27.438 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=datacoord] [serverID=1]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/server.go:266] ["DataCoord Register Finished"]
[2023/11/27 16:39:27.438 +08:00] [INFO] [rootcoord/meta_table.go:204] ["RootCoord meta table reload done"] [duration=26.83025ms]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/index_service.go:91] ["start create index for segment loop..."]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/server.go:892] ["received indexnode register"] [address=10.90.1.32:21121] [serverID=1]
[2023/11/27 16:39:27.438 +08:00] [INFO] [runtime/asm_arm64.s:1197] ["index builder schedule loop start"]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [datacoord/indexnode_manager.go:83] ["add IndexNode"] [nodeID=1] ["node address"=10.90.1.32:21121]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/server.go:1154] ["all old data node down, enable auto balance!"]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [datacoord/indexnode_manager.go:56] ["set IndexNode client"] [nodeID=1]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [datacoord/indexnode_manager.go:61] ["IndexNode IndexNodeManager setClient success"] [nodeID=1] ["IndexNode num"=1]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/server.go:912] ["received querynode register"] [address=10.90.1.32:21123] [serverID=1]
[2023/11/27 16:39:27.438 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="datacoord-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/index_engine_version_manager.go:55] ["addOrUpdate version"] [nodeId=1] [minimal=0] [current=1]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_0] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [INFO] [datacoord/server.go:386] ["DataCoord startup successfully"]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [datacoord/service.go:257] ["DataCoord start done ..."]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [components/data_coord.go:54] ["DataCoord successfully started"]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_1] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_2] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_3] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_4] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_5] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.438 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_6] [elapsed=0]
[2023/11/27 16:39:27.438 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_7] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_8] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_9] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_10] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_11] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_12] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_13] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_14] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-rootcoord-dml_15] [elapsed=0]
[2023/11/27 16:39:27.439 +08:00] [INFO] [rootcoord/dml_channels.go:215] ["init dml channels"] [prefix=by-dev-rootcoord-dml] [num=16]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [rootcoord/root_coord.go:491] ["RootCoord init QuotaCenter done"]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [rootcoord/kv_catalog.go:388] ["not found the user"] [key=root-coord/credential/users/root]
[2023/11/27 16:39:27.439 +08:00] [DEBUG] [rootcoord/root_coord.go:551] ["RootCoord init user root"]
[2023/11/27 16:39:27.440 +08:00] [DEBUG] [rootcoord/kv_catalog.go:388] ["not found the user"] [key=root-coord/credential/users/root]
[2023/11/27 16:39:27.458 +08:00] [WARN] [rootcoord/kv_catalog.go:969] ["fail to load grant privilege entity"] [key=root-coord/credential/grantee-privileges/public/Global/*.*] [type=Grant] [error="key=by-dev/meta/root-coord/credential/grantee-privileges/public/Global/*.*: key not found"]
[2023/11/27 16:39:27.461 +08:00] [WARN] [rootcoord/kv_catalog.go:991] ["fail to load the grantee id"] [key=root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeDescribeCollection] [error="key=by-dev/meta/root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeDescribeCollection: key not found"]
[2023/11/27 16:39:27.461 +08:00] [DEBUG] [rootcoord/kv_catalog.go:996] ["not found the grantee id"] [key=root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeDescribeCollection]
[2023/11/27 16:39:27.464 +08:00] [WARN] [rootcoord/kv_catalog.go:991] ["fail to load the grantee id"] [key=root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeShowCollections] [error="key=by-dev/meta/root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeShowCollections: key not found"]
[2023/11/27 16:39:27.464 +08:00] [DEBUG] [rootcoord/kv_catalog.go:996] ["not found the grantee id"] [key=root-coord/credential/grantee-id/250dd41b686083b0/PrivilegeShowCollections]
[2023/11/27 16:39:27.470 +08:00] [WARN] [rootcoord/kv_catalog.go:969] ["fail to load grant privilege entity"] [key=root-coord/credential/grantee-privileges/public/Collection/*.*] [type=Grant] [error="key=by-dev/meta/root-coord/credential/grantee-privileges/public/Collection/*.*: key not found"]
[2023/11/27 16:39:27.474 +08:00] [WARN] [rootcoord/kv_catalog.go:991] ["fail to load the grantee id"] [key=root-coord/credential/grantee-id/e03326696e8a3b16/PrivilegeIndexDetail] [error="key=by-dev/meta/root-coord/credential/grantee-id/e03326696e8a3b16/PrivilegeIndexDetail: key not found"]
[2023/11/27 16:39:27.474 +08:00] [DEBUG] [rootcoord/kv_catalog.go:996] ["not found the grantee id"] [key=root-coord/credential/grantee-id/e03326696e8a3b16/PrivilegeIndexDetail]
[2023/11/27 16:39:27.478 +08:00] [DEBUG] [rootcoord/service.go:151] ["RootCoord init done ..."]
[2023/11/27 16:39:27.478 +08:00] [INFO] [rootcoord/service.go:291] ["RootCoord Core start ..."]
[2023/11/27 16:39:27.478 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=rootcoord] [ServerID=1]
[2023/11/27 16:39:27.486 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/rootcoord] [value="{\"ServerID\":1,\"ServerName\":\"rootcoord\",\"Address\":\"10.90.1.32:53100\",\"Exclusive\":true,\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250258001,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:27.486 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=rootcoord] [serverID=1]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/root_coord.go:278] ["RootCoord Register Finished"]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/proxy_manager.go:88] ["succeed to init sessions on etcd"] [sessions=null] [revision=19]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/proxy_manager.go:111] ["start to watch etcd"]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/root_coord.go:155] ["update rootcoord state"] [state=Healthy]
[2023/11/27 16:39:27.486 +08:00] [WARN] [rootcoord/proxy_client_manager.go:234] ["proxy client is empty, RefreshPrivilegeInfoCache will not send to any client"]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/quota_center.go:135] ["Start QuotaCenter"] [collectInterval/s=3]
[2023/11/27 16:39:27.486 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="rootcoord-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:27.486 +08:00] [INFO] [rootcoord/root_coord.go:706] ["rootcoord startup successfully"]
[2023/11/27 16:39:27.486 +08:00] [DEBUG] [rootcoord/service.go:156] ["RootCoord start done ..."]
[2023/11/27 16:39:27.486 +08:00] [INFO] [components/root_coord.go:56] ["RootCoord successfully started"]
[2023/11/27 16:39:27.491 +08:00] [INFO] [sessionutil/session_util.go:901] ["register session success"] [role=rootcoord] [key=by-dev/meta/session/rootcoord]
[2023/11/27 16:39:27.491 +08:00] [INFO] [sessionutil/session_util.go:901] ["register session success"] [role=datacoord] [key=by-dev/meta/session/datacoord]
[2023/11/27 16:39:27.495 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.565 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.566 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.566 +08:00] [DEBUG] [proxy/service.go:539] ["create RootCoord client for Proxy done"]
[2023/11/27 16:39:27.566 +08:00] [DEBUG] [proxy/service.go:542] ["Proxy wait for RootCoord to be healthy"]
[2023/11/27 16:39:27.566 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=rootcoord] [key=rootcoord] [address=10.90.1.32:53100]
[2023/11/27 16:39:27.566 +08:00] [DEBUG] [client/client.go:93] ["RootCoordClient GetSessions success"] [address=10.90.1.32:53100] [serverID=1]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:547] ["Proxy wait for RootCoord to be healthy done"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:549] ["set RootCoord client for Proxy"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:551] ["set RootCoord client for Proxy done"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:555] ["create DataCoord client for Proxy"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:561] ["create DataCoord client for Proxy done"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [proxy/service.go:564] ["Proxy wait for DataCoord to be healthy"]
[2023/11/27 16:39:27.567 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=datacoord] [key=datacoord] [address=10.90.1.32:13333]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:569] ["Proxy wait for DataCoord to be healthy done"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:571] ["set DataCoord client for Proxy"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:573] ["set DataCoord client for Proxy done"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:577] ["create QueryCoord client for Proxy"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:583] ["create QueryCoord client for Proxy done"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [proxy/service.go:586] ["Proxy wait for QueryCoord to be healthy"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [client/client.go:78] ["QueryCoordClient msess key not existed"] [key=querycoord]
[2023/11/27 16:39:27.568 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.568 +08:00] [WARN] [grpcclient/client.go:513] ["fail to get grpc client"] [client_role=querycoord] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.568 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=querycoord] [error="empty grpc client: find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.568 +08:00] [DEBUG] [client/client.go:78] ["QueryCoordClient msess key not existed"] [key=querycoord]
[2023/11/27 16:39:27.568 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.568 +08:00] [WARN] [grpcclient/client.go:438] ["fail to get grpc client in the retry state"] [client_role=querycoord] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.568 +08:00] [ERROR] [grpcclient/client.go:429] ["retry func failed"] ["retry time"=0] [error="empty grpc client: find no available querycoord, check querycoord state"] [stack="github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:429\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:513\ngithub.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/grpcclient/client.go:529\ngithub.com/milvus-io/milvus/internal/distributed/querycoord/client.wrapGrpcCall[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/querycoord/client/client.go:95\ngithub.com/milvus-io/milvus/internal/distributed/querycoord/client.(*Client).GetComponentStates\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/querycoord/client/client.go:109\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:37\ngithub.com/milvus-io/milvus/pkg/util/retry.Do\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/pkg/util/retry/retry.go:44\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:61\ngithub.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/util/componentutil/componentutil.go:82\ngithub.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/proxy/service.go:587\ngithub.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/internal/distributed/proxy/service.go:375\ngithub.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/components/proxy.go:52\ngithub.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n\t/Users/jibin/Working/milvus-lite/milvus_binary/milvus/cmd/roles/roles.go:113"]
[2023/11/27 16:39:27.594 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=rootcoord] [error="empty grpc client: find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.594 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=rootcoord] [error="empty grpc client: find no available rootcoord, check rootcoord state"]
[2023/11/27 16:39:27.594 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=rootcoord] [key=rootcoord] [address=10.90.1.32:53100]
[2023/11/27 16:39:27.594 +08:00] [DEBUG] [client/client.go:93] ["RootCoordClient GetSessions success"] [address=10.90.1.32:53100] [serverID=1]
[2023/11/27 16:39:27.594 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=rootcoord] [key=rootcoord] [address=10.90.1.32:53100]
[2023/11/27 16:39:27.594 +08:00] [DEBUG] [client/client.go:93] ["RootCoordClient GetSessions success"] [address=10.90.1.32:53100] [serverID=1]
[2023/11/27 16:39:27.601 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.687 +08:00] [WARN] [rootcoord/root_coord.go:196] ["zero ts was met, this should be only occurred in starting state"] [minBgDdlTs=445926439042940930] [minNormalDdlTs=0]
[2023/11/27 16:39:27.707 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.769 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=querycoord] [error="empty grpc client: find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.769 +08:00] [DEBUG] [client/client.go:78] ["QueryCoordClient msess key not existed"] [key=querycoord]
[2023/11/27 16:39:27.769 +08:00] [WARN] [grpcclient/client.go:179] ["failed to get client address"] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.769 +08:00] [WARN] [grpcclient/client.go:438] ["fail to get grpc client in the retry state"] [client_role=querycoord] [error="find no available querycoord, check querycoord state"]
[2023/11/27 16:39:27.813 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.917 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Abnormal]
[2023/11/27 16:39:27.995 +08:00] [INFO] [datanode/service.go:266] ["RootCoord client is ready for DataNode"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [datanode/service.go:274] ["starting DataCoord client for DataNode"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [querycoord/service.go:175] ["QueryCoord report RootCoord ready"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.995 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.996 +08:00] [DEBUG] [querycoord/service.go:186] ["QueryCoord try to wait for DataCoord ready"]
[2023/11/27 16:39:27.996 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=datacoord] [key=datacoord] [address=10.90.1.32:13333]
[2023/11/27 16:39:27.996 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=datacoord] [key=datacoord] [address=10.90.1.32:13333]
[2023/11/27 16:39:27.996 +08:00] [INFO] [datanode/service.go:285] ["DataCoord client is ready for DataNode"]
[2023/11/27 16:39:27.996 +08:00] [DEBUG] [querycoord/service.go:195] ["QueryCoord report DataCoord ready"]
[2023/11/27 16:39:27.996 +08:00] [INFO] [sync/once.go:74] ["DataNode server initializing"] [TimeTickChannelName=by-dev-datacoord-timetick-channel]
[2023/11/27 16:39:27.997 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:27.996 +08:00] [INFO] [querycoordv2/server.go:179] ["QueryCoord start init"] [meta-root-path=by-dev/meta] [address=10.90.1.32:19531]
[2023/11/27 16:39:27.997 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:27.997 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:28.001 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:28.001 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=datanode] [address=10.90.1.32:21124] [id=1]
[2023/11/27 16:39:28.001 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:28.001 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="datanode-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/data_node.go:244] ["DataNode server init rateCollector done"] ["node ID"=1]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/data_node.go:247] ["DataNode server init dispatcher client done"] ["node ID"=1]
[2023/11/27 16:39:28.001 +08:00] [INFO] [dependency/factory.go:84] ["try to init mq"] [standalone=true] [mqType=rocksmq]
[2023/11/27 16:39:28.001 +08:00] [INFO] [msgstream/mq_factory.go:18] ["init rocksmq msgstream success"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/data_node.go:260] ["DataNode server init succeeded"] [MsgChannelSubName=by-dev-dataNode]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/service.go:297] ["current DataNode state"] [state=Initializing]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/service.go:192] ["DataNode gRPC services successfully initialized"]
[2023/11/27 16:39:28.001 +08:00] [INFO] [datanode/data_node.go:316] ["start id allocator done"] [role=datanode]
[2023/11/27 16:39:28.002 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=datanode] [ServerID=1]
[2023/11/27 16:39:28.002 +08:00] [INFO] [datanode/data_node.go:295] ["DataNode Background GC Start"]
[2023/11/27 16:39:28.002 +08:00] [INFO] [datanode/event_manager.go:48] ["Start watch channel"] [prefix=channelwatch/1]
[2023/11/27 16:39:28.005 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:28.005 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=querycoord] [address=10.90.1.32:19531] [id=1]
[2023/11/27 16:39:28.005 +08:00] [INFO] [querycoordv2/server.go:211] [QueryCoord] [State=Initializing]
[2023/11/27 16:39:28.005 +08:00] [INFO] [querycoordv2/server.go:215] ["query coordinator connecting to etcd."]
[2023/11/27 16:39:28.005 +08:00] [INFO] [querycoordv2/server.go:225] ["query coordinator successfully connected to etcd."]
[2023/11/27 16:39:28.012 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/datanode-1] [value="{\"ServerID\":1,\"ServerName\":\"datanode\",\"Address\":\"10.90.1.32:21124\",\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250258024,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:28.012 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=datanode] [serverID=1]
[2023/11/27 16:39:28.012 +08:00] [INFO] [datanode/data_node.go:184] ["DataNode Register Finished"]
[2023/11/27 16:39:28.012 +08:00] [DEBUG] [sessionutil/session_util.go:767] ["watch services"] ["add kv"="key:\"by-dev/meta/session/datanode-1\" create_revision:20 mod_revision:20 version:1 value:\"{\\\"ServerID\\\":1,\\\"ServerName\\\":\\\"datanode\\\",\\\"Address\\\":\\\"10.90.1.32:21124\\\",\\\"TriggerKill\\\":true,\\\"Version\\\":\\\"2.3.3\\\",\\\"IndexEngineVersion\\\":{},\\\"LeaseID\\\":7587874947250258024,\\\"HostName\\\":\\\"maodeMacBook-Pro.local\\\"}\" lease:7587874947250258024 "]
[2023/11/27 16:39:28.012 +08:00] [DEBUG] [sessionutil/session_util.go:795] [WatchService] ["event type"=SessionAddEvent]
[2023/11/27 16:39:28.012 +08:00] [INFO] [datacoord/server.go:868] ["received datanode register"] [address=10.90.1.32:21124] [serverID=1]
[2023/11/27 16:39:28.013 +08:00] [INFO] [datacoord/channel_manager.go:364] ["register node with no reassignment"] ["registered node"=1]
[2023/11/27 16:39:28.016 +08:00] [INFO] [tso/tso.go:122] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/11/27 16:39:31.009 +08:00] [next=2023/11/27 16:39:28.009 +08:00]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:314] ["init meta"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [datanode/service.go:197] ["DataNode gRPC services successfully started"]
[2023/11/27 16:39:28.016 +08:00] [DEBUG] [components/data_node.go:57] ["Datanode successfully started"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:323] ["recover meta..."]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:324] ["recover collections and partitions from kv store"] [traceID=1701074368016671000]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:330] ["recovering collections..."] [collections="[]"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:355] ["QueryCoord server initMeta done"] [duration=441.125s]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:247] ["init session"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:251] ["init schedulers"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:264] ["init dist controller"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:274] ["init all available balancer"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:283] ["use config balancer"] [balancer=ScoreBasedBalancer]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:290] ["init checker controller"]
[2023/11/27 16:39:28.016 +08:00] [INFO] [querycoordv2/server.go:360] ["init observers"]
[2023/11/27 16:39:28.017 +08:00] [INFO] [querycoordv2/server.go:307] ["QueryCoord init success"]
[2023/11/27 16:39:28.017 +08:00] [DEBUG] [querycoord/service.go:103] ["QueryCoord init done ..."]
[2023/11/27 16:39:28.017 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=querycoord] [ServerID=1]
[2023/11/27 16:39:28.023 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.024 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/querycoord] [value="{\"ServerID\":1,\"ServerName\":\"querycoord\",\"Address\":\"10.90.1.32:19531\",\"Exclusive\":true,\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250258036,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:28.024 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=querycoord] [serverID=1]
[2023/11/27 16:39:28.024 +08:00] [INFO] [querycoordv2/server.go:408] ["start watcher..."]
[2023/11/27 16:39:28.024 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=querynode] [key=querynode-1] [address=10.90.1.32:21123]
[2023/11/27 16:39:28.024 +08:00] [INFO] [task/scheduler.go:230] ["add executor for new QueryNode"] [nodeID=1]
[2023/11/27 16:39:28.024 +08:00] [INFO] [runtime/asm_arm64.s:1197] ["start dist handler"] [nodeID=1]
[2023/11/27 16:39:28.029 +08:00] [INFO] [meta/resource_manager.go:469] ["HandleNodeUp: add node to default resource group"] [rgName=__default_resource_group] [node=1]
[2023/11/27 16:39:28.029 +08:00] [INFO] [querycoordv2/server.go:717] ["HandleNodeUp: assign node to resource group"] [nodeID=1] [resourceGroup=__default_resource_group]
[2023/11/27 16:39:28.030 +08:00] [WARN] [dist/dist_handler.go:100] ["node last heart beat time lag too behind"] [now=2023/11/27 16:39:28.030 +08:00] [lastHeartBeatTime=1970/01/01 08:00:00.000 +08:00] [nodeID=1]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:443] ["start cluster..."]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:446] ["start observers..."]
[2023/11/27 16:39:28.030 +08:00] [INFO] [observers/target_observer.go:127] ["Start update next target loop"]
[2023/11/27 16:39:28.030 +08:00] [INFO] [observers/target_observer.go:141] ["target observer init done"]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:453] ["start task scheduler..."]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:456] ["start checker controller..."]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:459] ["start job scheduler..."]
[2023/11/27 16:39:28.030 +08:00] [INFO] [observers/resource_observer.go:66] ["Start check resource group loop"]
[2023/11/27 16:39:28.030 +08:00] [DEBUG] [sessionutil/session_util.go:634] ["Session version out of range"] [version=2.3.3] [serverID=1]
[2023/11/27 16:39:28.030 +08:00] [INFO] [querycoordv2/server.go:800] ["all old query node down, enable auto balance!"]
[2023/11/27 16:39:28.030 +08:00] [INFO] [observers/replica_observer.go:68] ["Start check replica loop"]
[2023/11/27 16:39:28.030 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="querycoord-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:28.031 +08:00] [INFO] [querycoordv2/server.go:402] ["QueryCoord started"]
[2023/11/27 16:39:28.031 +08:00] [DEBUG] [querycoord/service.go:108] ["QueryCoord start done ..."]
[2023/11/27 16:39:28.031 +08:00] [DEBUG] [components/query_coord.go:57] ["QueryCoord successfully started"]
[2023/11/27 16:39:28.096 +08:00] [INFO] [sessionutil/session_util.go:901] ["register session success"] [role=querycoord] [key=by-dev/meta/session/querycoord]
[2023/11/27 16:39:28.127 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.169 +08:00] [WARN] [retry/retry.go:44] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=querycoord] [error="empty grpc client: find no available querycoord, check querycoord state"]
[2023/11/27 16:39:28.170 +08:00] [DEBUG] [sessionutil/session_util.go:608] ["SessionUtil GetSessions"] [prefix=querycoord] [key=querycoord] [address=10.90.1.32:19531]
[2023/11/27 16:39:28.230 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.336 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.437 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.527 +08:00] [INFO] [gc/gc_tuner.go:90] ["GC Tune done"] ["previous GOGC"=100] ["heapuse "=25] ["total memory"=12640] ["next GC"=36] ["new GOGC"=200] [gc-pause=47.625s] [gc-pause-end=1701074368527703000]
[2023/11/27 16:39:28.542 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.645 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.750 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.856 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.962 +08:00] [DEBUG] [datanode/services.go:69] ["DataNode current state"] [State=Healthy]
[2023/11/27 16:39:28.971 +08:00] [DEBUG] [proxy/service.go:591] ["Proxy wait for QueryCoord to be healthy done"]
[2023/11/27 16:39:28.971 +08:00] [DEBUG] [proxy/service.go:593] ["set QueryCoord client for Proxy"]
[2023/11/27 16:39:28.971 +08:00] [DEBUG] [proxy/service.go:595] ["set QueryCoord client for Proxy done"]
[2023/11/27 16:39:28.971 +08:00] [DEBUG] [proxy/service.go:597] ["update Proxy's state to Initializing"]
[2023/11/27 16:39:28.971 +08:00] [DEBUG] [proxy/service.go:600] ["init Proxy"]
[2023/11/27 16:39:28.971 +08:00] [INFO] [proxy/proxy.go:211] ["init session for Proxy"]
[2023/11/27 16:39:28.972 +08:00] [DEBUG] [sessionutil/session_util.go:246] ["Session try to connect to etcd"]
[2023/11/27 16:39:28.972 +08:00] [DEBUG] [sessionutil/session_util.go:261] ["Session connect to etcd success"]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [sessionutil/session_util.go:304] [getServerID] [reuse=true]
[2023/11/27 16:39:28.975 +08:00] [INFO] [sessionutil/session_util.go:278] ["start server"] [name=proxy] [address=10.90.1.32:19529] [id=1]
[2023/11/27 16:39:28.975 +08:00] [INFO] [sessionutil/session_util.go:1209] ["save server info into file"] [content="proxy-1\n"] [filePath=/tmp/milvus/server_id_85412]
[2023/11/27 16:39:28.975 +08:00] [INFO] [proxy/proxy.go:216] ["init session for Proxy done"]
[2023/11/27 16:39:28.975 +08:00] [INFO] [dependency/factory.go:84] ["try to init mq"] [standalone=true] [mqType=rocksmq]
[2023/11/27 16:39:28.975 +08:00] [INFO] [msgstream/mq_factory.go:18] ["init rocksmq msgstream success"] [path=/Users/maocai/Documents/openAi/test_milvus/data/rocksmq]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:221] ["init access log for Proxy done"]
[2023/11/27 16:39:28.975 +08:00] [INFO] [proxy/proxy.go:227] ["Proxy init rateCollector done"] [nodeID=1]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:237] ["create id allocator done"] [role=proxy] [ProxyID=1]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:247] ["create timestamp allocator done"] [role=proxy] [ProxyID=1]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:258] ["create segment id assigner done"] [role=proxy] [ProxyID=1]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:263] ["create channels manager done"] [role=proxy]
[2023/11/27 16:39:28.975 +08:00] [INFO] [msgstream/common_mq_factory.go:31] ["Msg Stream state"] [can_produce=true]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [server/rocksmq_impl.go:424] ["Rocksmq create topic successfully "] [topic=by-dev-replicate-msg] [elapsed=0]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:281] ["create task scheduler done"] [role=proxy]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:285] ["create channels time ticker done"] [role=proxy] [syncTimeTickInterval=100ms]
[2023/11/27 16:39:28.975 +08:00] [DEBUG] [proxy/proxy.go:288] ["create metrics cache manager done"] [role=proxy]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [rootcoord/service.go:513] [PolicyList] [role=rootcoord] [in=]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [rootcoord/service.go:513] ["PolicyList success"] [role=rootcoord] [in=]
[2023/11/27 16:39:28.976 +08:00] [INFO] [proxy/meta_cache.go:225] ["success to init meta cache"] [policy_infos="[\"{\\\"PType\\\":\\\"p\\\",\\\"V0\\\":\\\"public\\\",\\\"V1\\\":\\\"Collection-*.*\\\",\\\"V2\\\":\\\"PrivilegeIndexDetail\\\"}\",\"{\\\"PType\\\":\\\"p\\\",\\\"V0\\\":\\\"public\\\",\\\"V1\\\":\\\"Global-*.*\\\",\\\"V2\\\":\\\"PrivilegeDescribeCollection\\\"}\",\"{\\\"PType\\\":\\\"p\\\",\\\"V0\\\":\\\"public\\\",\\\"V1\\\":\\\"Global-*.*\\\",\\\"V2\\\":\\\"PrivilegeShowCollections\\\"}\"]"]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/proxy.go:294] ["init meta cache done"] [role=proxy]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/service.go:605] ["init Proxy done"]
---Milvus Proxy successfully initialized and ready to serve!---
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/service.go:379] ["init Proxy server done"]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/service.go:381] ["start Proxy server"]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/proxy.go:389] ["start task scheduler done"] [role=proxy]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/proxy.go:395] ["start id allocator done"] [role=proxy]
[2023/11/27 16:39:28.976 +08:00] [DEBUG] [proxy/proxy.go:401] ["start segment id assigner done"] [role=proxy]
[2023/11/27 16:39:28.977 +08:00] [DEBUG] [proxy/proxy.go:407] ["start channels time ticker done"] [role=proxy]
[2023/11/27 16:39:28.977 +08:00] [DEBUG] [proxy/proxy.go:416] ["update state code"] [role=proxy] [State=Healthy]
[2023/11/27 16:39:28.977 +08:00] [DEBUG] [sessionutil/session_util.go:425] ["service begin to register to etcd"] [serverName=proxy] [ServerID=1]
[2023/11/27 16:39:28.986 +08:00] [INFO] [sessionutil/session_util.go:455] ["put session key into etcd"] [key=by-dev/meta/session/proxy-1] [value="{\"ServerID\":1,\"ServerName\":\"proxy\",\"Address\":\"10.90.1.32:19529\",\"TriggerKill\":true,\"Version\":\"2.3.3\",\"IndexEngineVersion\":{},\"LeaseID\":7587874947250258050,\"HostName\":\"maodeMacBook-Pro.local\"}"]
[2023/11/27 16:39:28.986 +08:00] [INFO] [sessionutil/session_util.go:465] ["Service registered successfully"] [ServerName=proxy] [serverID=1]
[2023/11/27 16:39:28.986 +08:00] [INFO] [proxy/proxy.go:163] ["Proxy Register Finished"]
[2023/11/27 16:39:28.986 +08:00] [DEBUG] [rootcoord/proxy_manager.go:157] ["received proxy put event with session"] [session="Session:<ServerID: 1, ServerName: proxy, Version: 2.3.3>"]
[2023/11/27 16:39:28.986 +08:00] [INFO] [rootcoord/timeticksync.go:233] ["Add session for timeticksync"] [serverID=1]
[2023/11/27 16:39:28.986 +08:00] [INFO] [proxy/service.go:625] ["start Proxy http server"]
[2023/11/27 16:39:28.986 +08:00] [INFO] [rootcoord/proxy_client_manager.go:120] ["succeed to create proxy client"] [address=10.90.1.32:19529] [serverID=1]
[2023/11/27 16:39:28.986 +08:00] [DEBUG] [proxy/service.go:386] ["start Proxy server done"]
[2023/11/27 16:39:28.987 +08:00] [INFO] [components/proxy.go:56] ["Proxy successfully started"]
[2023/11/27 16:39:28.987 +08:00] [INFO] [logutil/logutil.go:163] ["Log directory"] [configDir=/Users/maocai/Documents/openAi/test_milvus/logs]
[2023/11/27 16:39:28.987 +08:00] [INFO] [logutil/logutil.go:164] ["Set log file to "] [path=standalone-1.log]
[2023/11/27 16:39:28.987 +08:00] [INFO] [tracer/tracer.go:71] ["Init tracer finished"] [Exporter=stdout]
[2023/11/27 16:39:29.003 +08:00] [INFO] [sessionutil/session_util.go:901] ["register session success"] [role=proxy] [key=by-dev/meta/session/proxy-1]
[2023/11/27 16:40:12.502 +08:00] [INFO] [gc/gc_tuner.go:90] ["GC Tune done"] ["previous GOGC"=200] ["heapuse "=28] ["total memory"=12473] ["next GC"=63] ["new GOGC"=200] [gc-pause=64.125s] [gc-pause-end=1701074412499791000]
[2023/11/27 16:41:11.422 +08:00] [INFO] [gc/gc_tuner.go:90] ["GC Tune done"] ["previous GOGC"=200] ["heapuse "=52] ["total memory"=12421] ["next GC"=65] ["new GOGC"=200] [gc-pause=185.542s] [gc-pause-end=1701074471420686000]
[2023/11/27 16:42:11.425 +08:00] [INFO] [gc/gc_tuner.go:90] ["GC Tune done"] ["previous GOGC"=200] ["heapuse "=58] ["total memory"=12406] ["next GC"=63] ["new GOGC"=200] [gc-pause=409.208s] [gc-pause-end=1701074531424023000]
